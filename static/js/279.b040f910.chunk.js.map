{"version":3,"file":"static/js/279.b040f910.chunk.js","mappings":"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","sources":["webpack://user-cards/./src/components/Tweets/TweetCard/tweetsCard.module.css?2f74","services/api.js","components/Tweets/TweetCard/TweetsCard.jsx","webpack://user-cards/./src/components/Tweets/Tweets.module.css?20f9","components/Tweets/TweetsPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersList\":\"tweetsCard_usersList__goyGX\",\"userCard\":\"tweetsCard_userCard__NM+sf\",\"logo\":\"tweetsCard_logo__iIpmU\",\"background\":\"tweetsCard_background__W4IGB\",\"Cardline\":\"tweetsCard_Cardline__os6vc\",\"avatarCircle\":\"tweetsCard_avatarCircle__t1FA2\",\"avatar\":\"tweetsCard_avatar__KAt3i\",\"cardText\":\"tweetsCard_cardText__ewFqO\",\"cardtextmargin\":\"tweetsCard_cardtextmargin__y-UG5\",\"cardBtn\":\"tweetsCard_cardBtn__LVPGR\",\"loadBtn\":\"tweetsCard_loadBtn__9PTbx\"};","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://6469b13a03bb12ac2090ecaf.mockapi.io\";\n\nexport const fetchUsers = async (page = 1) => {\n  let url;\n  url = `/users?page=${page}&limit=3`;\n  const response = await axios.get(url);\n\n  return response.data;\n};\n\nexport const fetchAllUsers = async () => {\n  let url;\n  url = `/users`;\n  const response = await axios.get(url);\n\n  return response.data.length;\n};\n\nexport const updateUser = async (id, following, followers) => {\n  const response = await axios.put(`/users/${id}`, { following, followers });\n  return response.data;\n};\n\n","import { useState, useEffect } from \"react\";\nimport style from \"./tweetsCard.module.css\";\nimport logo from \"../../../images/logo.png\";\nimport background from \"../../../images/background.png\";\nimport { updateUser, fetchUsers, fetchAllUsers } from \"../../../services/api\";\nimport { Loader } from \"../../Loader/Loader\";\n\nexport const TweetsCard = () => {\n  const [users, setUsers] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    fetchAllUsers()\n      .then((response) => {\n        setTotalPages(Math.ceil(response / 3));\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  });\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchUsers(currentPage)\n      .then((response) => {\n        setUsers(response);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(setIsLoading(false));\n  }, []);\n\n  const handleLoadMore = () => {\n    const nextPage = currentPage + 1;\n    setIsLoading(true);\n    fetchUsers(nextPage)\n      .then((response) => {\n        const uniqueUsers = response.filter(\n          (user) => !users.some((existing) => existing.id === user.id)\n        );\n        setUsers((prevUsers) => [...prevUsers, ...uniqueUsers]);\n        setCurrentPage(nextPage);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(setIsLoading(false));\n  };\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  const handleFollow = async (id, following, followers) => {\n    try {\n      if (following) {\n        await updateUser(id, false, followers - 1);\n        setUsers((prevUsers) =>\n          prevUsers.map((user) => {\n            if (user.id === id) {\n              return {\n                ...user,\n                following: false,\n                followers: user.followers - 1,\n              };\n            }\n            return user;\n          })\n        );\n      } else {\n        await updateUser(id, true, followers + 1);\n        setUsers((prevUsers) =>\n          prevUsers.map((user) => {\n            if (user.id === id) {\n              return {\n                ...user,\n                following: true,\n                followers: user.followers + 1,\n              };\n            }\n            return user;\n          })\n        );\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <ul className={style.usersList}>\n        {users.map(({ id, tweets, followers, avatar, following }) => (\n          <li className={style.userCard} key={id}>\n            <img className={style.logo} src={logo} alt=\"Logo\" />\n            <img\n              className={style.background}\n              src={background}\n              alt=\"background_photo\"\n            />\n            <div className={style.Cardline} />\n            <div className={style.avatarCircle}>\n              <img className={style.avatar} src={avatar} alt=\"user_photo\" />\n            </div>\n            <p className={style.cardText}>{tweets} weets</p>\n            <p className={style.cardtextmargin}>{followers} followers</p>\n            <button\n              className={style.cardBtn}\n              style={{ backgroundColor: following ? \"#5CD3A8\" : \"\" }}\n              onClick={() => handleFollow(id, following, followers)}\n            >\n              {following ? \"Following\" : \"Follow\"}\n            </button>\n          </li>\n        ))}\n      </ul>\n\n      {currentPage < totalPages && (\n        <button className={style.loadBtn} onClick={handleLoadMore}>\n          Load More\n        </button>\n      )}\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tweetContainer\":\"Tweets_tweetContainer__Xoxwu\",\"usersTitle\":\"Tweets_usersTitle__u0SD7\"};","\nimport { TweetsCard } from \"./TweetCard/TweetsCard\";\nimport style from \"./Tweets.module.css\";\nconst TweetsPage = ({ isLoading }) => {\n\n\n  return (\n    <div className={style.tweetContainer}>\n      <h2 className={style.usersTitle}>Users</h2>\n      <TweetsCard />\n    </div>\n  );\n};\n\nexport default TweetsPage;\n"],"names":["axios","fetchUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","_args","arguments","wrap","_context","prev","next","concat","length","undefined","sent","abrupt","data","stop","apply","fetchAllUsers","_ref2","_callee2","_context2","updateUser","_ref3","_callee3","id","following","followers","_context3","_x","_x2","_x3","TweetsCard","_useState","useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","totalPages","setTotalPages","_useState7","_useState8","isLoading","setIsLoading","useEffect","then","Math","ceil","catch","error","console","log","finally","_jsx","Loader","handleFollow","prevUsers","map","user","_objectSpread","t0","_jsxs","_Fragment","children","className","style","tweets","avatar","src","alt","background","backgroundColor","onClick","nextPage","uniqueUsers","filter","some","existing","_toConsumableArray"],"sourceRoot":""}