{"version":3,"file":"static/js/279.a813f348.chunk.js","mappings":"mNACA,EAA4B,8BAA5B,EAAqE,6BAArE,EAAyG,yBAAzG,EAA+I,+BAA/I,EAAyL,6BAAzL,EAAqO,iCAArO,EAA+Q,2BAA/Q,EAAqT,6BAArT,EAAmW,mCAAnW,EAAgZ,4BAAhZ,EAAsb,4B,kECEtbA,EAAAA,EAAAA,SAAAA,QAAyB,8CAElB,IAAMC,EAAU,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,UAAA,OAAAN,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OAApCP,EAAG,eAAAQ,OAFgCN,EAAAO,OAAA,QAAAC,IAAAR,EAAA,GAAAA,EAAA,GAAG,EAEb,YAAWG,EAAAE,KAAA,EACbd,EAAAA,EAAAA,IAAUO,GAAK,KAAD,EAAvB,OAARC,EAAQI,EAAAM,KAAAN,EAAAO,OAAA,SAEPX,EAASY,MAAI,wBAAAR,EAAAS,OAAA,GAAAf,EAAA,KACrB,kBANsB,OAAAJ,EAAAoB,MAAA,KAAAZ,UAAA,KAQVa,EAAa,eAAAC,GAAArB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAoB,IAAA,IAAAjB,EAAA,OAAAJ,EAAAA,EAAAA,KAAAO,MAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,OAEZ,MAAZ,SAAYY,EAAAZ,KAAA,EACQd,EAAAA,EAAAA,IADpB,UACmC,KAAD,EAAvB,OAARQ,EAAQkB,EAAAR,KAAAQ,EAAAP,OAAA,SAEPX,EAASY,KAAKJ,QAAM,wBAAAU,EAAAL,OAAA,GAAAI,EAAA,KAC5B,kBANyB,OAAAD,EAAAF,MAAA,KAAAZ,UAAA,KAQbiB,EAAU,eAAAC,GAAAzB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAwB,EAAOC,EAAIC,EAAWC,GAAS,IAAAxB,EAAA,OAAAJ,EAAAA,EAAAA,KAAAO,MAAA,SAAAsB,GAAA,cAAAA,EAAApB,KAAAoB,EAAAnB,MAAA,cAAAmB,EAAAnB,KAAA,EAChCd,EAAAA,EAAAA,IAAU,UAADe,OAAWe,GAAM,CAAEC,UAAAA,EAAWC,UAAAA,IAAa,KAAD,EAA5D,OAARxB,EAAQyB,EAAAf,KAAAe,EAAAd,OAAA,SACPX,EAASY,MAAI,wBAAAa,EAAAZ,OAAA,GAAAQ,EAAA,KACrB,gBAHsBK,EAAAC,EAAAC,GAAA,OAAAR,EAAAN,MAAA,KAAAZ,UAAA,K,kBCdV2B,EAAa,WACxB,IAAAC,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAsCL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA1CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAAoCT,EAAAA,EAAAA,UAAS,GAAEU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAxCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAAkCb,EAAAA,EAAAA,WAAS,GAAMc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,IAE9BG,EAAAA,EAAAA,YAAU,WACRjC,IACGkC,MAAK,SAACjD,GACL2C,EAAc3C,EAAW,EAC3B,IACCkD,OAAM,SAACC,GACNC,QAAQC,IAAIF,EACd,GACJ,KAEAH,EAAAA,EAAAA,YAAU,WACRD,GAAa,GACbtD,EAAW6C,GACRW,MAAK,SAACjD,GACLmC,EAASnC,EACX,IACCkD,OAAM,SAACC,GACNC,QAAQC,IAAIF,EACd,IACCG,QAAQP,GAAa,GAC1B,GAAG,IAmBH,GAAID,EACF,OAAOS,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IAGhB,IAAMC,EAAY,eAAA/D,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOwB,EAAIC,EAAWC,GAAS,OAAA5B,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,GAE5CkB,EAAU,CAADnB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EACLa,EAAWG,GAAI,EAAOE,EAAY,GAAG,KAAD,EAC1CW,GAAS,SAACuB,GAAS,OACjBA,EAAUC,KAAI,SAACC,GACb,OAAIA,EAAKtC,KAAOA,GACduC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKD,GAAI,IACPrC,WAAW,EACXC,UAAWoC,EAAKpC,UAAY,IAGzBoC,CACT,GAAE,IACFxD,EAAAE,KAAA,uBAAAF,EAAAE,KAAA,EAEIa,EAAWG,GAAI,EAAME,EAAY,GAAG,KAAD,EACzCW,GAAS,SAACuB,GAAS,OACjBA,EAAUC,KAAI,SAACC,GACb,OAAIA,EAAKtC,KAAOA,GACduC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKD,GAAI,IACPrC,WAAW,EACXC,UAAWoC,EAAKpC,UAAY,IAGzBoC,CACT,GAAE,IACF,QAAAxD,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA0D,GAAA1D,EAAA,SAGJgD,QAAQC,IAAGjD,EAAA0D,IAAQ,yBAAA1D,EAAAS,OAAA,GAAAf,EAAA,mBAEtB,gBAlCiB4B,EAAAC,EAAAC,GAAA,OAAAlC,EAAAoB,MAAA,KAAAZ,UAAA,KAoClB,OACE6D,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEV,EAAAA,EAAAA,KAAA,MAAIW,UAAWC,EAAgBF,SAC5B/B,EAAMyB,KAAI,SAAA3C,GAAA,IAAGM,EAAEN,EAAFM,GAAI8C,EAAMpD,EAANoD,OAAQ5C,EAASR,EAATQ,UAAW6C,EAAMrD,EAANqD,OAAQ9C,EAASP,EAATO,UAAS,OACpDwC,EAAAA,EAAAA,MAAA,MAAIG,UAAWC,EAAeF,SAAA,EAC5BV,EAAAA,EAAAA,KAAA,OAAKW,UAAWC,EAAYG,I,i/BAAWC,IAAI,UAC3ChB,EAAAA,EAAAA,KAAA,OACEW,UAAWC,EACXG,IAAKE,EACLD,IAAI,sBAENhB,EAAAA,EAAAA,KAAA,OAAKW,UAAWC,KAChBZ,EAAAA,EAAAA,KAAA,OAAKW,UAAWC,EAAmBF,UACjCV,EAAAA,EAAAA,KAAA,OAAKW,UAAWC,EAAcG,IAAKD,EAAQE,IAAI,kBAEjDR,EAAAA,EAAAA,MAAA,KAAGG,UAAWC,EAAeF,SAAA,CAC1BG,EAAOK,eAAe,SAAS,cAElCV,EAAAA,EAAAA,MAAA,KAAGG,UAAWC,EAAqBF,SAAA,CAChCzC,EAAUiD,eAAe,SAAS,iBAErClB,EAAAA,EAAAA,KAAA,UACEW,UAAWC,EACXA,MAAO,CAAEO,gBAAiBnD,EAAY,UAAY,IAClDoD,QAAS,kBAAMlB,EAAanC,EAAIC,EAAWC,EAAU,EAACyC,SAErD1C,EAAY,YAAc,aAtBKD,EAwB/B,MAIRgB,EAAcI,IACba,EAAAA,EAAAA,KAAA,UAAQW,UAAWC,EAAeQ,QA1FjB,WACrB,IAAMC,EAAWtC,EAAc,EAC/BS,GAAa,GACbtD,EAAWmF,GACR3B,MAAK,SAACjD,GACL,IAAM6E,EAAc7E,EAAS8E,QAC3B,SAAClB,GAAI,OAAM1B,EAAM6C,MAAK,SAACC,GAAQ,OAAKA,EAAS1D,KAAOsC,EAAKtC,EAAE,GAAC,IAE9Da,GAAS,SAACuB,GAAS,SAAAnD,QAAA0E,EAAAA,EAAAA,GAASvB,IAASuB,EAAAA,EAAAA,GAAKJ,GAAW,IACrDtC,EAAeqC,EACjB,IACC1B,OAAM,SAACC,GACNC,QAAQC,IAAIF,EACd,IACCG,QAAQP,GAAa,GAC1B,EA2EgEkB,SAAC,gBAMnE,EClIA,EAAiC,+BAAjC,EAA6E,2BCa7E,EAXmB,SAAHvE,GAAeA,EAAToD,UAGpB,OACEiB,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAqBF,SAAA,EACnCV,EAAAA,EAAAA,KAAA,MAAIW,UAAWC,EAAiBF,SAAC,WACjCV,EAAAA,EAAAA,KAAC1B,EAAU,MAGjB,C","sources":["webpack://user-cards/./src/components/Tweets/TweetCard/tweetsCard.module.css?2f74","services/api.js","components/Tweets/TweetCard/TweetsCard.jsx","webpack://user-cards/./src/components/Tweets/Tweets.module.css?20f9","components/Tweets/TweetsPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersList\":\"tweetsCard_usersList__goyGX\",\"userCard\":\"tweetsCard_userCard__NM+sf\",\"logo\":\"tweetsCard_logo__iIpmU\",\"background\":\"tweetsCard_background__W4IGB\",\"Cardline\":\"tweetsCard_Cardline__os6vc\",\"avatarCircle\":\"tweetsCard_avatarCircle__t1FA2\",\"avatar\":\"tweetsCard_avatar__KAt3i\",\"cardText\":\"tweetsCard_cardText__ewFqO\",\"cardtextmargin\":\"tweetsCard_cardtextmargin__y-UG5\",\"cardBtn\":\"tweetsCard_cardBtn__LVPGR\",\"loadBtn\":\"tweetsCard_loadBtn__9PTbx\"};","import axios from \"axios\";\r\n\r\n\r\naxios.defaults.baseURL = \"https://6469b13a03bb12ac2090ecaf.mockapi.io\";\r\n\r\nexport const fetchUsers = async (page = 1) => {\r\n  let url;\r\n  url = `/users?page=${page}&limit=3`;\r\n  const response = await axios.get(url);\r\n\r\n  return response.data;\r\n};\r\n\r\nexport const fetchAllUsers = async () => {\r\n  let url;\r\n  url = `/users`;\r\n  const response = await axios.get(url);\r\n\r\n  return response.data.length;\r\n};\r\n\r\nexport const updateUser = async (id, following, followers) => {\r\n  const response = await axios.put(`/users/${id}`, { following, followers });\r\n  return response.data;\r\n};\r\n\r\n","import { useState, useEffect } from \"react\";\r\nimport style from \"./tweetsCard.module.css\";\r\nimport logo from \"../../../images/logo.png\";\r\nimport background from \"../../../images/background.png\";\r\nimport { updateUser, fetchUsers, fetchAllUsers } from \"../../../services/api\";\r\nimport { Loader } from \"../../Loader/Loader\";\r\n\r\nexport const TweetsCard = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchAllUsers()\r\n      .then((response) => {\r\n        setTotalPages(response / 3);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  });\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    fetchUsers(currentPage)\r\n      .then((response) => {\r\n        setUsers(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n      .finally(setIsLoading(false));\r\n  }, []);\r\n\r\n  const handleLoadMore = () => {\r\n    const nextPage = currentPage + 1;\r\n    setIsLoading(true);\r\n    fetchUsers(nextPage)\r\n      .then((response) => {\r\n        const uniqueUsers = response.filter(\r\n          (user) => !users.some((existing) => existing.id === user.id)\r\n        );\r\n        setUsers((prevUsers) => [...prevUsers, ...uniqueUsers]);\r\n        setCurrentPage(nextPage);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n      .finally(setIsLoading(false));\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  const handleFollow = async (id, following, followers) => {\r\n    try {\r\n      if (following) {\r\n        await updateUser(id, false, followers - 1);\r\n        setUsers((prevUsers) =>\r\n          prevUsers.map((user) => {\r\n            if (user.id === id) {\r\n              return {\r\n                ...user,\r\n                following: false,\r\n                followers: user.followers - 1,\r\n              };\r\n            }\r\n            return user;\r\n          })\r\n        );\r\n      } else {\r\n        await updateUser(id, true, followers + 1);\r\n        setUsers((prevUsers) =>\r\n          prevUsers.map((user) => {\r\n            if (user.id === id) {\r\n              return {\r\n                ...user,\r\n                following: true,\r\n                followers: user.followers + 1,\r\n              };\r\n            }\r\n            return user;\r\n          })\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ul className={style.usersList}>\r\n        {users.map(({ id, tweets, followers, avatar, following }) => (\r\n          <li className={style.userCard} key={id}>\r\n            <img className={style.logo} src={logo} alt=\"Logo\" />\r\n            <img\r\n              className={style.background}\r\n              src={background}\r\n              alt=\"background_photo\"\r\n            />\r\n            <div className={style.Cardline} />\r\n            <div className={style.avatarCircle}>\r\n              <img className={style.avatar} src={avatar} alt=\"user_photo\" />\r\n            </div>\r\n            <p className={style.cardText}>\r\n              {tweets.toLocaleString(\"en-Us\")} Tweets\r\n            </p>\r\n            <p className={style.cardtextmargin}>\r\n              {followers.toLocaleString(\"en-Us\")} followers\r\n            </p>\r\n            <button\r\n              className={style.cardBtn}\r\n              style={{ backgroundColor: following ? \"#5CD3A8\" : \"\" }}\r\n              onClick={() => handleFollow(id, following, followers)}\r\n            >\r\n              {following ? \"Following\" : \"Follow\"}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      {currentPage < totalPages && (\r\n        <button className={style.loadBtn} onClick={handleLoadMore}>\r\n          Load More\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"tweetContainer\":\"Tweets_tweetContainer__Xoxwu\",\"usersTitle\":\"Tweets_usersTitle__u0SD7\"};","\r\nimport { TweetsCard } from \"./TweetCard/TweetsCard\";\r\nimport style from \"./Tweets.module.css\";\r\nconst TweetsPage = ({ isLoading }) => {\r\n\r\n\r\n  return (\r\n    <div className={style.tweetContainer}>\r\n      <h2 className={style.usersTitle}>Users</h2>\r\n      <TweetsCard />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TweetsPage;\r\n"],"names":["axios","fetchUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","_args","arguments","wrap","_context","prev","next","concat","length","undefined","sent","abrupt","data","stop","apply","fetchAllUsers","_ref2","_callee2","_context2","updateUser","_ref3","_callee3","id","following","followers","_context3","_x","_x2","_x3","TweetsCard","_useState","useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","totalPages","setTotalPages","_useState7","_useState8","isLoading","setIsLoading","useEffect","then","catch","error","console","log","finally","_jsx","Loader","handleFollow","prevUsers","map","user","_objectSpread","t0","_jsxs","_Fragment","children","className","style","tweets","avatar","src","alt","background","toLocaleString","backgroundColor","onClick","nextPage","uniqueUsers","filter","some","existing","_toConsumableArray"],"sourceRoot":""}