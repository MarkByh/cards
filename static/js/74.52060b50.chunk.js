"use strict";(self.webpackChunkuser_cards=self.webpackChunkuser_cards||[]).push([[74],{797:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var r=n(165),s=n(683),a=n(861),c=n(791),o="tweetsCard_usersList__goyGX",u="tweetsCard_userCard__NM+sf",i="tweetsCard_logo__iIpmU",l="tweetsCard_background__W4IGB",f="tweetsCard_Cardline__os6vc",d="tweetsCard_avatarCircle__t1FA2",g="tweetsCard_avatar__KAt3i",A="tweetsCard_cardText__ewFqO",x="tweetsCard_cardtextmargin__y-UG5",p="tweetsCard_cardBtn__LVPGR",w=n.p+"static/media/background.86562350dcaa714a1442.png",h=n(980);h.Z.defaults.baseURL="https://6469b13a03bb12ac2090ecaf.mockapi.io";var m=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/users?page=".concat(s.length>0&&void 0!==s[0]?s[0]:1,"&limit=4"),e.next=4,h.Z.get(t);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users",e.next=3,h.Z.get("/users");case 3:return t=e.sent,e.abrupt("return",t.data.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,s){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.put("/users/".concat(t),{following:n,followers:s});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),C=n(885),Z=n(184),b=(0,c.createContext)(),j=function(){return(0,c.useContext)(b)},L=function(e){var t=e.children,n=(0,c.useState)([]),r=(0,C.Z)(n,2),s=r[0],a=r[1],o=(0,c.useState)(1),u=(0,C.Z)(o,2),i=u[0],l=u[1],f=(0,c.useState)(0),d=(0,C.Z)(f,2),g=d[0],A=d[1],x=(0,c.useState)(!1),p=(0,C.Z)(x,2),w=p[0],h=p[1];return(0,Z.jsx)(b.Provider,{value:{users:s,setUsers:a,currentPage:i,setCurrentPage:l,totalPages:g,setTotalPages:A,isLoading:w,setIsLoading:h},children:t})},N=function(){var e=j(),t=e.users,n=e.setUsers,h=e.currentPage,C=e.setTotalPages,b=e.setIsLoading;(0,c.useEffect)((function(){v().then((function(e){C(e/4)})).catch((function(e){console.log(e)}))})),(0,c.useEffect)((function(){b(!0),m(h).then((function(e){n(e)})).catch((function(e){console.log(e)})).finally(b(!1))}),[]);var L=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,a,c){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=7;break}return e.next=4,_(t,!1,c-1);case 4:n((function(e){return e.map((function(e){return e.id===t?(0,s.Z)((0,s.Z)({},e),{},{following:!1,followers:e.followers-1}):e}))})),e.next=10;break;case 7:return e.next=9,_(t,!0,c+1);case 9:n((function(e){return e.map((function(e){return e.id===t?(0,s.Z)((0,s.Z)({},e),{},{following:!0,followers:e.followers+1}):e}))}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r){return e.apply(this,arguments)}}();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("ul",{className:o,children:t.map((function(e){var t=e.id,n=e.tweets,r=e.followers,s=e.following,a=e.avatar;return(0,Z.jsxs)("li",{className:u,children:[(0,Z.jsx)("img",{className:i,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ2SURBVHgB7VixSgNBEJ0TI8QihQqm0MLGQgstbCxsrP1mQRsbwTQGkkKLBDRFBFMkYA7ivNxsmCx32U1MzAg+GG7vbm5v993Mm+GS0Wh0Q+vHgO0uSZK0yIHXecaHQ1ozNsgGymzn9AdghTCgylF0TMZhiTDgmEnbJ8OwRhhwzqRtk1FYJKzEdsmkbZJBxC5qyPbK1qWsopXFULV2c/x7bC3xT5XvAcXBFYFHWgzvbHUZH4kBD5Stf9Z7L2fcjyKsjxdxyR9414C2CLUW6yb7NnPm6LJvQxYUk3LjIpAzVwxSfm68Rp5jqK4P3PU8sO+IAgil5BRZPF+JreJpTEWN23qD4j/xlXnwlYcUBxSBZfZeWPuu2CRY3DXKz5YphCLsQ5GFjV9RpjE4f6Es3arKv6EWgTQ4lfGYKHxdzMfnSO/YFuKE/bu0HFyo8S1bynMH01AjFGEtNUanDbIQQTXKdKovY0TMp0fuqXq2LM87zEPAuAjIce0IRZjWrbIcu0zM1IZFx9IcXw2dxoU6UgBoiwnCQhGmN+7I20YEQZ88X61liD5fpzRJ8/RZmOeB5id5JQgRpkUQqYdFI7Wu2XY835IIJ8Qdm6yrey51HWLbC+DZq9BrRSglj5iEthNrPr8Vffoq+LOA1EQ0gLQW+77xcEuXcnm+SnFAi9ImQwhFmOu6dWvQ12SJfrn7KM9nrmTDL4esWAHvLNiDrRQxjSt07Jo3i4qJDjqV55B+6JH8zePanrQdPfWeIv88gOQnWhz4cO53UaXAB+1KSnMWk8TID0QN6N+9r1v/PxCLUbMk8j6sEQaR75BhWCLMpMj7sELYT0X+1/ANbvUOPPqsLv4AAAAASUVORK5CYII=",alt:"Logo"}),(0,Z.jsx)("img",{className:l,src:w,alt:"background_photo"}),(0,Z.jsx)("div",{className:f}),(0,Z.jsx)("div",{className:d,children:(0,Z.jsx)("img",{className:g,src:a,alt:"user_photo"})}),(0,Z.jsxs)("p",{className:A,children:[n.toLocaleString("en-Us")," Tweets"]}),(0,Z.jsxs)("p",{className:x,children:[r.toLocaleString("en-Us")," followers"]}),(0,Z.jsx)("button",{className:p,style:{backgroundColor:s?"#5CD3A8":""},onClick:function(){return L(t,s,r)},children:s?"Following":"Follow"})]},t)}))})})},Q=n(982),U="loadMoreBtn_loadBtn__NVuCW",k=function(){var e=j(),t=e.users,n=e.setUsers,r=e.currentPage,s=e.setCurrentPage,a=e.totalPages,c=e.isLoading,o=e.setIsLoading;return(0,Z.jsx)(Z.Fragment,{children:r<a&&(0,Z.jsx)("button",{className:U,onClick:function(){var e=r+1;o(!0),m(e).then((function(r){var a=r.filter((function(e){return!t.some((function(t){return t.id===e.id}))}));n((function(e){return[].concat((0,Q.Z)(e),(0,Q.Z)(a))})),s(e)})).catch((function(e){console.log(e)})).finally(o(!1))},children:c?"Loading":"Load More"})})},I="Tweets_tweetContainer__Xoxwu",B="Tweets_usersTitle__u0SD7",P=function(){return(0,Z.jsx)(L,{children:(0,Z.jsxs)("div",{className:I,children:[(0,Z.jsx)("h2",{className:B,children:"Users"}),(0,Z.jsx)(N,{}),(0,Z.jsx)(k,{})]})})}}}]);
//# sourceMappingURL=74.52060b50.chunk.js.map