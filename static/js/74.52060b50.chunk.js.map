{"version":3,"file":"static/js/74.52060b50.chunk.js","mappings":"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","sources":["webpack://user-cards/./src/components/Tweets/TweetCard/tweetsCard.module.css?2f74","services/api.js","components/Tweets/Context/twetsContects.jsx","components/Tweets/TweetCard/TweetsCard.jsx","webpack://user-cards/./src/components/Tweets/LoadMoreBtn/loadMoreBtn.module.css?630b","components/Tweets/LoadMoreBtn/loadMoreBtn.jsx","webpack://user-cards/./src/components/Tweets/Tweets.module.css?20f9","components/Tweets/TweetsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersList\":\"tweetsCard_usersList__goyGX\",\"userCard\":\"tweetsCard_userCard__NM+sf\",\"logo\":\"tweetsCard_logo__iIpmU\",\"background\":\"tweetsCard_background__W4IGB\",\"Cardline\":\"tweetsCard_Cardline__os6vc\",\"avatarCircle\":\"tweetsCard_avatarCircle__t1FA2\",\"avatar\":\"tweetsCard_avatar__KAt3i\",\"cardText\":\"tweetsCard_cardText__ewFqO\",\"cardtextmargin\":\"tweetsCard_cardtextmargin__y-UG5\",\"cardBtn\":\"tweetsCard_cardBtn__LVPGR\"};","import axios from \"axios\";\r\naxios.defaults.baseURL = \"https://6469b13a03bb12ac2090ecaf.mockapi.io\";\r\n\r\nexport const fetchUsers = async (page = 1) => {\r\n  let url;\r\n  url = `/users?page=${page}&limit=4`;\r\n  const response = await axios.get(url);\r\n\r\n  return response.data;\r\n};\r\n\r\nexport const fetchAllUsers = async () => {\r\n  let url;\r\n  url = `/users`;\r\n  const response = await axios.get(url);\r\n\r\n  return response.data.length;\r\n};\r\n\r\nexport const updateUser = async (id, following, followers) => {\r\n  const response = await axios.put(`/users/${id}`, { following, followers });\r\n  return response.data;\r\n};\r\n\r\n","import React, { createContext, useContext, useState } from \"react\";\r\n\r\nexport const AllUsers = createContext();\r\nexport const useTweetContext = () => useContext(AllUsers);\r\n\r\nconst TweetsContext = ({ children }) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  return (\r\n    <AllUsers.Provider\r\n      value={{\r\n        users,\r\n        setUsers,\r\n        currentPage,\r\n        setCurrentPage,\r\n        totalPages,\r\n        setTotalPages,\r\n        isLoading,\r\n        setIsLoading,\r\n      }}\r\n    >\r\n      {children}\r\n    </AllUsers.Provider>\r\n  );\r\n};\r\nexport default TweetsContext;\r\n","import { useEffect } from \"react\";\r\nimport style from \"./tweetsCard.module.css\";\r\nimport logo from \"../../../images/logo.png\";\r\nimport background from \"../../../images/background.png\";\r\nimport { updateUser, fetchUsers, fetchAllUsers } from \"../../../services/api\";\r\nimport { useTweetContext } from \"../Context/twetsContects\";\r\n\r\nexport const TweetsCard = () => {\r\n  const { users, setUsers, currentPage, setTotalPages, setIsLoading } =\r\n    useTweetContext();\r\n\r\n  useEffect(() => {\r\n    fetchAllUsers()\r\n      .then((response) => {\r\n        setTotalPages(response / 4);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  });\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    fetchUsers(currentPage)\r\n      .then((response) => {\r\n        setUsers(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n      .finally(setIsLoading(false));\r\n  }, []);\r\n\r\n  const handleFollow = async (id, following, followers) => {\r\n    try {\r\n      if (following) {\r\n        await updateUser(id, false, followers - 1);\r\n        setUsers((prevUsers) =>\r\n          prevUsers.map((user) => {\r\n            if (user.id === id) {\r\n              return {\r\n                ...user,\r\n                following: false,\r\n                followers: user.followers - 1,\r\n              };\r\n            }\r\n            return user;\r\n          })\r\n        );\r\n      } else {\r\n        await updateUser(id, true, followers + 1);\r\n        setUsers((prevUsers) =>\r\n          prevUsers.map((user) => {\r\n            if (user.id === id) {\r\n              return {\r\n                ...user,\r\n                following: true,\r\n                followers: user.followers + 1,\r\n              };\r\n            }\r\n            return user;\r\n          })\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ul className={style.usersList}>\r\n        {users.map(({ id, tweets, followers, following, avatar }) => (\r\n          <li className={style.userCard} key={id}>\r\n            <img className={style.logo} src={logo} alt=\"Logo\" />\r\n            <img\r\n              className={style.background}\r\n              src={background}\r\n              alt=\"background_photo\"\r\n            />\r\n            <div className={style.Cardline} />\r\n            <div className={style.avatarCircle}>\r\n              <img className={style.avatar} src={avatar} alt=\"user_photo\" />\r\n            </div>\r\n            <p className={style.cardText}>\r\n              {tweets.toLocaleString(\"en-Us\")} Tweets\r\n            </p>\r\n            <p className={style.cardtextmargin}>\r\n              {followers.toLocaleString(\"en-Us\")} followers\r\n            </p>\r\n            <button\r\n              className={style.cardBtn}\r\n              style={{ backgroundColor: following ? \"#5CD3A8\" : \"\" }}\r\n              onClick={() => handleFollow(id, following, followers)}\r\n            >\r\n              {following ? \"Following\" : \"Follow\"}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"loadBtn\":\"loadMoreBtn_loadBtn__NVuCW\"};","import { useTweetContext } from \"../Context/twetsContects\";\r\nimport { fetchUsers } from \"../../../services/api\";\r\nimport style from \"./loadMoreBtn.module.css\";\r\nexport const LoadBtn = () => {\r\n  const {\r\n    users,\r\n    setUsers,\r\n    currentPage,\r\n    setCurrentPage,\r\n    totalPages,\r\n\r\n    isLoading,\r\n    setIsLoading,\r\n  } = useTweetContext();\r\n\r\n  const handleLoadMore = () => {\r\n    const nextPage = currentPage + 1;\r\n    setIsLoading(true);\r\n    fetchUsers(nextPage)\r\n      .then((response) => {\r\n        const uniqueUsers = response.filter(\r\n          (user) => !users.some((existing) => existing.id === user.id)\r\n        );\r\n        setUsers((prevUsers) => [...prevUsers, ...uniqueUsers]);\r\n        setCurrentPage(nextPage);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n      .finally(setIsLoading(false));\r\n  };\r\n  return (\r\n    <>\r\n      {currentPage < totalPages && (\r\n        <button className={style.loadBtn} onClick={handleLoadMore}>\r\n          {isLoading ? \"Loading\" : \"Load More\"}\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"tweetContainer\":\"Tweets_tweetContainer__Xoxwu\",\"usersTitle\":\"Tweets_usersTitle__u0SD7\"};","import { TweetsCard } from \"./TweetCard/TweetsCard\";\r\nimport { LoadBtn } from \"./LoadMoreBtn/loadMoreBtn\";\r\nimport style from \"./Tweets.module.css\";\r\nimport TweetsContext from \"./Context/twetsContects\";\r\nconst TweetsPage = () => {\r\n  return (\r\n    <TweetsContext>\r\n      <div className={style.tweetContainer}>\r\n        <h2 className={style.usersTitle}>Users</h2>\r\n        <TweetsCard />\r\n        <LoadBtn />\r\n      </div>\r\n    </TweetsContext>\r\n  );\r\n};\r\n\r\nexport default TweetsPage;\r\n"],"names":["axios","fetchUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","_args","arguments","wrap","_context","prev","next","concat","length","undefined","sent","abrupt","data","stop","apply","fetchAllUsers","_ref2","_callee2","_context2","updateUser","_ref3","_callee3","id","following","followers","_context3","_x","_x2","_x3","AllUsers","createContext","useTweetContext","useContext","children","_useState","useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","totalPages","setTotalPages","_useState7","_useState8","isLoading","setIsLoading","_jsx","Provider","value","TweetsCard","_useTweetContext","useEffect","then","catch","error","console","log","finally","handleFollow","prevUsers","map","user","_objectSpread","t0","_Fragment","className","style","tweets","avatar","_jsxs","src","alt","background","toLocaleString","backgroundColor","onClick","LoadBtn","nextPage","uniqueUsers","filter","some","existing","_toConsumableArray","TweetsContext"],"sourceRoot":""}